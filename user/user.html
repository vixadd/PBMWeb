<link rel="stylesheet" href="./user/user.css">
<div class="container">
	<div class="jumbotron well text-center" data-ng-show="!vm.userExists && !vm.whoopsTime">
		<h1>Loading</h1>
		<h3>This may take a second...</h3>
	</div>
	<div class="jumbotron well text-center" data-ng-show="!vm.userExists && vm.whoopsTime">
		<h1>Whoops!</h1>
		<h3>This user doesn't exist...</h3>
	</div>
	<div class="page-header text-center">
		<h1>{{vm.user.username}}</h1>
	</div>
	<div class="row">
		<div class="col-md-4 col-md-push-8 info-container" data-ng-show="vm.userExists">
			<div class="row">
				<div class="col-md-12">
					<h4>
						<span class="pull-left">User since</span>
						<span class="pull-right">{{vm.user.creationDate * 1000 | date:'MM/dd/yyyy'}}</span>
					</h4>
				</div>
			</div>
			
			<div class="row">
				<div class="col-md-12">
					<h4>
						<span class="pull-left">Lender Rating</span>
						<span class="pull-right fa fa-star fa-1x" data-ng-repeat="i in vm.range(vm.maxStars) track by $index" data-ng-class="vm.maxStars - vm.user.lenderRep < $index+1 ? 'filled' : ''"></span>
					</h4>
				</div>
			</div>
			
			<div class="row">
				<div class="col-md-12">
					<h4>
						<span class="pull-left">Borrower Rating</span>
						<span class="pull-right fa fa-star fa-1x" data-ng-repeat="i in vm.range(vm.maxStars) track by $index" data-ng-class="vm.maxStars - vm.user.borrowerRep < $index+1 ? 'filled' : ''"></span>
					</h4>
				</div>
			</div>
			
			<div class="row">
				<div class="col-md-12">
					<h4>
						<span class="pull-left">Items Lent</span>
						<span class="pull-right">{{vm.user.itemsLent}}</span>
					</h4>
				</div>
			</div>
			
			<div class="row">
				<div class="col-md-12">
					<h4>
						<span class="pull-left">Items Borrowed</span>
						<span class="pull-right">{{vm.user.itemsBorrowed}}</span>
					</h4>
				</div>
			</div>
		</div>
		<br>
		<div class="col-md-8 col-md-pull-4">
			<div class="row">
				<div class="col-md-12">
					<div class="well text-center" data-ng-show="vm.items.length == 0 && vm.userExists">
						<h2>Nothing Here :(</h2>
						<h4>This user doesn't have any items to lend.</h4>
					</div>
					<div class="list-group">
							<a class="list-group-item"
								data-ng-repeat="item in vm.items"
								data-ng-href="#!/item/{{item.ItemId}}">
									<div class="row">
										<div class="col-md-2">
											<img class="img img-responsive img-thumbnail item-image" data-ng-src="{{item.image}}" />
										</div>
										<h4>{{item.title}}</h4>
										{{item.description | limitTo:80}}{{item.description.length>80 ? '...' : ''}}
									</div>	
										
							</a>
					</div>
				</div>
			</div>
		</div>
		
	</div>
</div>